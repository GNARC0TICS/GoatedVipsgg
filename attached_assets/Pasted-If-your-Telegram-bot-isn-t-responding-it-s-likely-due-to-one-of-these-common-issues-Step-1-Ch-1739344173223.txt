If your Telegram bot isnâ€™t responding, itâ€™s likely due to one of these common issues:

ğŸš¨ Step 1: Check If Another Bot Instance Is Running

Since youâ€™re running npm run dev, a previously deployed instance may still be active, causing conflicts.

âœ… Fix: Stop Any Running Instances

Run the following in your terminal:

ps aux | grep node

Look for any existing instances of your bot and kill them:

kill -9 <PID>

(Replace <PID> with the process ID of your running bot.)

Then restart the bot manually:

npm run dev

ğŸš¨ Step 2: Ensure Your Bot is Listening

Run:

npm run dev

Then, in another terminal, check the logs:

tail -f logs.txt

OR manually add a console.log at the top of your bot code:

console.log("ğŸš€ Bot is running and listening for messages...");

If the log doesnâ€™t appear, the bot isnâ€™t starting properly.

ğŸš¨ Step 3: Verify That Your Bot Token Is Correct

Check if your .env file has the correct TELEGRAM_BOT_TOKEN:

echo $TELEGRAM_BOT_TOKEN

If itâ€™s empty or incorrect, update your .env file:

TELEGRAM_BOT_TOKEN=your_correct_token_here

Then restart:

npm run dev

ğŸš¨ Step 4: Confirm That Your Bot is Listening to Commands

Use the following Telegram command in your botâ€™s chat:

/start

If thereâ€™s no response, force the bot to restart and listen by adding:

bot.on("message", (msg) => {
  console.log(`ğŸ“© Received message: ${msg.text}`);
});

Then restart.

ğŸš¨ Step 5: Check for Conflicting Deployments

If your bot is already deployed, it might be taking priority over your local instance.

âœ… Fix: Disable the Deployed Bot
	â€¢	Go to your Replit or server where itâ€™s deployed.
	â€¢	Stop the running bot (pm2 stop <process> if using PM2).
	â€¢	Restart your local bot (npm run dev).

ğŸš¨ Step 6: Check Telegram Webhooks (If Previously Deployed)

Your bot might be in webhook mode, which prevents polling.

âœ… Fix: Remove Webhook & Enable Polling

Run this in your terminal:

curl -F "url=" https://api.telegram.org/bot<YOUR_BOT_TOKEN>/setWebhook

Then restart:

npm run dev

ğŸš€ Summary of Fixes

1ï¸âƒ£ Kill any running bot instances.
2ï¸âƒ£ Restart your bot & check logs.
3ï¸âƒ£ Verify the Telegram bot token.
4ï¸âƒ£ Confirm the bot is receiving messages.
5ï¸âƒ£ Ensure your local bot isnâ€™t overridden by a deployed instance.
6ï¸âƒ£ **